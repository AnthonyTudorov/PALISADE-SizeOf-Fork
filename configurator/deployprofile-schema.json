{
	"id": "http://palisade.njit.edu/schemas/config.json",
	"$schema": "http://json-schema.org/schema#",
	"title" : "Deployment Configuration",
	"description" : "Configurations for a deployment of PALISADE",
	"type": "object",
	"properties": {
		"tag": { "type": "string" },
		"comment": { "type": "string" },
		"deployment": {
			"type": "object",
			"required": [ "controls" ],
			"properties": {
				"target": {
					"type": "object",
					"properties": {
						"hw": { "type":"string" },
						"clock": { "type":"string" },
						"os": { "type":"string" },
						"ncore": { "type":"string" },
						"l2cache": { "type":"string" }
					}
				},
				"controls": {
						"type": "object",
						"required": [ "scheme", "confset", "lattice", "math", "encoding" ],
						"properties": {
 							"scheme": {
								"type": "string",
								"enum": [ "LTV", "StSt", "BFV", "BFVrns", "BGV", "FV", "Null" ]
							},
							"confset": {
            						"type": "object",
								"oneOf": [
									{ "$ref": "#/definitions/MQP" },
									{ "$ref": "#/definitions/MQbitsP" },
									{ "$ref": "#/definitions/MQgen" }
								]
							},
							"ntower": { "type": "string" },
							"secfactor": { "type": "string" },
							"lattice": {
								"type": "string",
								"enum": [ "Poly", "DCRT", "Native" ]
							},
							"math": {
								"type": "string"
							},
							"encoding": {
								"type": "string",
								"enum": [ "scalar", "integer", "fractional", "packed", "coefpacked", "string" ]
							},
							"parallel": {
								"type": "array",
								"items": {
									"type": "object",
									"properties": {
										"seq": { "type": "string" },
										"ncores": { "type": "string" }
									}
								}
							}
						}
				}
			 }
		 }
	},
        "definitions": {
                "MQP": {
                        "type": "object",
                        "required": ["type", "m", "q", "p"],
                        "properties": {
								"type": { "enum": ["MQP"] },
								"m": { "type":"string" },
								"q": { "type":"string" },
								"ru": { "type": "string" },
								"p": { "type":"string" }
                        }
                },
                "MQbitsP": {
                        "type": "object",
                        "required": ["type", "m", "qbits", "p"],
                        "properties": {
								"type": { "enum": ["MQbitsP"] },
								"m": { "type":"string" },
								"qbits": { "type":"string" },
								"p": { "type":"string" }
                        }
                },
                "MQgen": {
                			"type": "object",
                			"required": ["type", "secLevel", "numAdds", "numMults", "numKS", "p", "relinWindow", "dist", "qbits"],
                			"properties": {
								"type": { "enum": ["MQgen"] },
                					"secLevel": { "type":"string" },
                					"numAdds": { "type":"string" },
                					"numMults": { "type":"string" },
                					"numKS": { "type":"string" },
								"p": { "type":"string" },
								"relinWindow": { "type": "string" },
								"dist": { "type": "string" },
								"qbits": { "type":"string" }
                			}
                	}
        }
}
