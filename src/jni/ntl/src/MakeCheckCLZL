
echo "Checking for __builtin_clzl"

cp ../include/NTL/have_builtin_clzl_no.h ../include/NTL/have_builtin_clzl.h

sh RemoveProg CheckCLZL
sh AndroidRemoveProg $3/CheckCLZL
echo $1 CheckCLZL.cpp CheckCLZLAux.cpp
$1 CheckCLZL.cpp CheckCLZLAux.cpp
echo $2 -o CheckCLZL CheckCLZL.o CheckCLZLAux.o
$2 -o CheckCLZL CheckCLZL.o CheckCLZLAux.o

adb push CheckCLZL $3/

if test -f CheckCLZL
then
   if adb shell $3/CheckCLZL
   then
      echo "have __builtin_clzl"
      cp ../include/NTL/have_builtin_clzl_yes.h ../include/NTL/have_builtin_clzl.h
      sh RemoveProg CheckCLZL
      sh AndroidRemoveProg $3/CheckCLZL
      exit 0
   fi
fi

echo "DO NOT have __builtin__clzl"
sh RemoveProg CheckCLZL
sh AndroidRemoveProg $3/CheckCLZL
exit 0

